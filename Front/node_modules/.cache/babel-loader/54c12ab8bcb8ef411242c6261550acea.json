{"ast":null,"code":"var _jsxFileName = \"/home/sutirth/projects/personal/bankathon/-bank/Front/src/App.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react-hooks/exhaustive-deps */\n\n/* eslint-disable default-case */\nimport React, { useState, useEffect } from \"react\";\nimport { Redirect, Route, useHistory } from \"react-router-dom\";\nimport \"./App.css\";\nimport fire from \"./Firebase/fire\";\nimport Login from \"./Login\";\nimport Investor from \"./Investor/HomePage/Investor\";\n\nconst App = () => {\n  _s();\n\n  const [user, setUser] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [emailError, setEmailError] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(\"\");\n  const [hasAccount, setHasAccount] = useState(\"\");\n  let history = useHistory();\n\n  const clearInputs = () => {\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n\n  const clearErrors = () => {\n    setPasswordError(\"\");\n    setEmailError(\"\");\n  };\n\n  const handleLogin = () => {\n    clearInputs();\n    clearErrors();\n    fire.auth().signInWithEmailAndPassword(email, password).catch(err => {\n      switch (err.code) {\n        case \"auth/invalid-email\":\n        case \"auth/user-disabled\":\n        case \"auth/user-not-found\":\n          setEmailError(err.message);\n          break;\n\n        case \"auth/wrong-password\":\n          setPassword(err.message);\n          break;\n      }\n    });\n  };\n\n  const handleSignup = () => {\n    clearInputs();\n    clearErrors();\n    fire.auth().createUserWithEmailAndPassword(email, password).catch(err => {\n      switch (err.code) {\n        case \"auth/email-already-in-use\":\n        case \"auth/invalid-email\":\n          setEmailError(err.message);\n          break;\n\n        case \"auth/weak-password\":\n          setPassword(err.message);\n          break;\n      }\n    });\n  };\n\n  const handleLogOut = () => {\n    clearInputs();\n    fire.auth().signOut();\n    history.location.state = \"\";\n  };\n\n  const authListener = async () => {\n    fire.auth().onAuthStateChanged(user => {\n      if (user) {\n        setUser(user);\n        localStorage.setItem(\"tok\", user.refreshToken);\n      } else {\n        setUser(\"\"); // localStorage.setItem(\"tok\", \"\");\n      }\n    });\n  };\n\n  useEffect(() => {\n    // console.log(\"\\n ---Hi at login/signup Page--- \\n\");\n    if (history.location.state === \"invest\") {\n      handleLogOut();\n    }\n\n    authListener();\n  }, [authListener]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, user ? (localStorage.setItem(\"user\", user.email), history.push(\"/invest\", user.refreshToken)) : /*#__PURE__*/React.createElement(Login, {\n    email: email,\n    setEmail: setEmail,\n    password: password,\n    setPassword: setPassword,\n    handleLogin: handleLogin,\n    handleSignup: handleSignup,\n    hasAccount: hasAccount,\n    setHasAccount: setHasAccount,\n    emailError: emailError,\n    passwordError: passwordError,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }));\n};\n\n_s(App, \"VCQbatx2Orc5lqMdfw+9E7vb5ic=\", false, function () {\n  return [useHistory];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/sutirth/projects/personal/bankathon/-bank/Front/src/App.js"],"names":["React","useState","useEffect","Redirect","Route","useHistory","fire","Login","Investor","App","user","setUser","email","setEmail","password","setPassword","emailError","setEmailError","passwordError","setPasswordError","hasAccount","setHasAccount","history","clearInputs","clearErrors","handleLogin","auth","signInWithEmailAndPassword","catch","err","code","message","handleSignup","createUserWithEmailAndPassword","handleLogOut","signOut","location","state","authListener","onAuthStateChanged","localStorage","setItem","refreshToken","push"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable default-case */\nimport React, { useState, useEffect } from \"react\";\nimport { Redirect, Route, useHistory } from \"react-router-dom\";\n\nimport \"./App.css\";\nimport fire from \"./Firebase/fire\";\nimport Login from \"./Login\";\nimport Investor from \"./Investor/HomePage/Investor\";\n\nconst App = () => {\n  const [user, setUser] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [emailError, setEmailError] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(\"\");\n  const [hasAccount, setHasAccount] = useState(\"\");\n  let history = useHistory();\n\n  const clearInputs = () => {\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n\n  const clearErrors = () => {\n    setPasswordError(\"\");\n    setEmailError(\"\");\n  };\n\n  const handleLogin = () => {\n    clearInputs();\n    clearErrors();\n    fire\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .catch((err) => {\n        switch (err.code) {\n          case \"auth/invalid-email\":\n          case \"auth/user-disabled\":\n          case \"auth/user-not-found\":\n            setEmailError(err.message);\n            break;\n          case \"auth/wrong-password\":\n            setPassword(err.message);\n            break;\n        }\n      });\n  };\n\n  const handleSignup = () => {\n    clearInputs();\n    clearErrors();\n    fire\n      .auth()\n      .createUserWithEmailAndPassword(email, password)\n      .catch((err) => {\n        switch (err.code) {\n          case \"auth/email-already-in-use\":\n          case \"auth/invalid-email\":\n            setEmailError(err.message);\n            break;\n          case \"auth/weak-password\":\n            setPassword(err.message);\n            break;\n        }\n      });\n  };\n\n  const handleLogOut = () => {\n    clearInputs();\n    fire.auth().signOut();\n    history.location.state = \"\";\n  };\n\n  const authListener = async () => {\n    fire.auth().onAuthStateChanged((user) => {\n      if (user) {\n        setUser(user);\n        localStorage.setItem(\"tok\", user.refreshToken);\n      } else {\n        setUser(\"\");\n        // localStorage.setItem(\"tok\", \"\");\n      }\n    });\n  };\n\n  useEffect(() => {\n    // console.log(\"\\n ---Hi at login/signup Page--- \\n\");\n    if (history.location.state === \"invest\") {\n      handleLogOut();\n    }\n    authListener();\n  }, [authListener]);\n\n  return (\n    <div className=\"App\">\n      {user ? (\n        (localStorage.setItem(\"user\", user.email),\n          history.push(\"/invest\", user.refreshToken))\n      ) : (\n          <Login\n            email={email}\n            setEmail={setEmail}\n            password={password}\n            setPassword={setPassword}\n            handleLogin={handleLogin}\n            handleSignup={handleSignup}\n            hasAccount={hasAccount}\n            setHasAccount={setHasAccount}\n            emailError={emailError}\n            passwordError={passwordError}\n          />\n        )}\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}